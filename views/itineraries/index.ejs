<%- include('../partials/header') %>

<div class="container">
  <% if (user) { %>
    <h2>Upcoming Trips</h2>
    <% if (itineraries.length > 0) { %>
      <div class="itinerary-list">
        <% itineraries.forEach(function(itinerary) { %>
          <div class="itinerary-item">
            <div class="itinerary-info">
              <h3><%= itinerary.name %></h3>
              <% if (itinerary.startDate && itinerary.endDate) { %>
                <p><%= new Date(itinerary.startDate).toLocaleDateString() %> - <%= new Date(itinerary.endDate).toLocaleDateString() %></p>
              <% } %>
            </div>
            <div class="itinerary-actions">
              <a href="/itineraries/<%= itinerary._id %>" class="btn btn-primary">VIEW</a>
            </div>
          </div>
        <% }) %>
      </div>
    <% } else { %>
      <p>No trips found.</p>
    <% } %>
    <a href="/itineraries/new" class="btn btn-success">ADD TRIP</a>
  <% } %>
</div>

<%- include('../partials/footer') %>